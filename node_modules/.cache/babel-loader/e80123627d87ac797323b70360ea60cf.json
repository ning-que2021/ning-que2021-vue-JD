{"ast":null,"code":"import \"core-js/modules/es.object.to-string.js\";\n// 这份文件就是用来做拦截的\nimport axios from 'axios'; //引入进度条\n\nimport nprogress from \"nprogress\"; //进度条样式\n\nimport 'nprogress/nprogress.css'; // 创建一个单例（实例）\n\nvar requests = axios.create({\n  baseURL: '/api',\n  timeout: 4000\n}); // 拦截器 - 请求拦截\n\nrequests.interceptors.request.use(function (config) {\n  // 部分接口需要拿到token\n  var token = localStorage.getItem('token');\n\n  if (token) {\n    config.headers = {\n      'aa-token': token\n    };\n  } //进度条开始动\n\n\n  nprogress.start();\n  return config;\n}, function (err) {\n  return Promise.reject(err);\n}); // 拦截器 - 响应拦截\n\nrequests.interceptors.response.use(function (res) {\n  //进度条结束\n  nprogress.done();\n  return res;\n}, function (err) {\n  return Promise.reject(err);\n}); // 整体导出\n\nexport default requests;","map":{"version":3,"sources":["D:/my-app/src/api/request.js"],"names":["axios","nprogress","requests","create","baseURL","timeout","interceptors","request","use","config","token","localStorage","getItem","headers","start","err","Promise","reject","response","res","done"],"mappings":";AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB,C,CACA;;AACA,OAAOC,SAAP,MAAsB,WAAtB,C,CACA;;AACA,OAAO,yBAAP,C,CAGA;;AACA,IAAMC,QAAQ,GAAGF,KAAK,CAACG,MAAN,CAAa;AAC5BC,EAAAA,OAAO,EAAE,MADmB;AAE5BC,EAAAA,OAAO,EAAE;AAFmB,CAAb,CAAjB,C,CAKA;;AACAH,QAAQ,CAACI,YAAT,CAAsBC,OAAtB,CAA8BC,GAA9B,CAAkC,UAAAC,MAAM,EAAE;AACxC;AACA,MAAIC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAZ;;AACA,MAAGF,KAAH,EAAS;AACPD,IAAAA,MAAM,CAACI,OAAP,GAAiB;AACf,kBAAYH;AADG,KAAjB;AAGD,GAPuC,CAQxC;;;AACAT,EAAAA,SAAS,CAACa,KAAV;AACA,SAAOL,MAAP;AACD,CAXD,EAWG,UAAAM,GAAG,EAAE;AACN,SAAOC,OAAO,CAACC,MAAR,CAAeF,GAAf,CAAP;AACD,CAbD,E,CAgBA;;AACAb,QAAQ,CAACI,YAAT,CAAsBY,QAAtB,CAA+BV,GAA/B,CAAmC,UAAAW,GAAG,EAAE;AACtC;AACAlB,EAAAA,SAAS,CAACmB,IAAV;AACA,SAAOD,GAAP;AACD,CAJD,EAIG,UAAAJ,GAAG,EAAE;AACN,SAAOC,OAAO,CAACC,MAAR,CAAeF,GAAf,CAAP;AACD,CAND,E,CAQA;;AACA,eAAeb,QAAf","sourcesContent":["// 这份文件就是用来做拦截的\r\nimport axios from 'axios'\r\n//引入进度条\r\nimport nprogress from \"nprogress\";\r\n//进度条样式\r\nimport 'nprogress/nprogress.css'\r\n\r\n\r\n// 创建一个单例（实例）\r\nconst requests = axios.create({\r\n  baseURL: '/api',\r\n  timeout: 4000\r\n})\r\n\r\n// 拦截器 - 请求拦截\r\nrequests.interceptors.request.use(config=>{\r\n  // 部分接口需要拿到token\r\n  let token = localStorage.getItem('token');\r\n  if(token){\r\n    config.headers = {\r\n      'aa-token': token\r\n    }\r\n  }\r\n  //进度条开始动\r\n  nprogress.start();\r\n  return config;\r\n}, err=>{\r\n  return Promise.reject(err)\r\n});\r\n\r\n\r\n// 拦截器 - 响应拦截\r\nrequests.interceptors.response.use(res=>{\r\n  //进度条结束\r\n  nprogress.done();\r\n  return res;\r\n}, err=>{\r\n  return Promise.reject(err)\r\n});\r\n\r\n// 整体导出\r\nexport default requests;"]},"metadata":{},"sourceType":"module"}