{"ast":null,"code":"import _typeof2 from \"D:/exercise/web/my-app/node_modules/@babel/runtime/helpers/esm/typeof.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.symbol.iterator.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.regexp.constructor.js\";\nimport \"core-js/modules/es.regexp.dot-all.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.regexp.sticky.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\nimport \"core-js/modules/es.array.splice.js\";\nimport \"core-js/modules/es.string.split.js\";\nimport \"core-js/modules/es.string.trim.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.sort.js\";\nimport \"core-js/modules/es.regexp.test.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\n\n/*!\n * Vue-Lazyload.js v1.3.3\n * (c) 2019 Awe <hilongjw@gmail.com>\n * Released under the MIT License.\n */\nvar _typeof = typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\" ? function (obj) {\n  return _typeof2(obj);\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n};\n\nvar classCallCheck = function classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n/*!\n * is-primitive <https://github.com/jonschlinkert/is-primitive>\n *\n * Copyright (c) 2014-2015, Jon Schlinkert.\n * Licensed under the MIT License.\n */\n// see http://jsperf.com/testing-value-is-primitive/7\n\n\nvar isPrimitive = function isPrimitive(value) {\n  return value == null || typeof value !== 'function' && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) !== 'object';\n};\n/*!\n * assign-symbols <https://github.com/jonschlinkert/assign-symbols>\n *\n * Copyright (c) 2015, Jon Schlinkert.\n * Licensed under the MIT License.\n */\n\n\nvar assignSymbols = function assignSymbols(receiver, objects) {\n  if (receiver === null || typeof receiver === 'undefined') {\n    throw new TypeError('expected first argument to be an object.');\n  }\n\n  if (typeof objects === 'undefined' || typeof Symbol === 'undefined') {\n    return receiver;\n  }\n\n  if (typeof Object.getOwnPropertySymbols !== 'function') {\n    return receiver;\n  }\n\n  var isEnumerable = Object.prototype.propertyIsEnumerable;\n  var target = Object(receiver);\n  var len = arguments.length,\n      i = 0;\n\n  while (++i < len) {\n    var provider = Object(arguments[i]);\n    var names = Object.getOwnPropertySymbols(provider);\n\n    for (var j = 0; j < names.length; j++) {\n      var key = names[j];\n\n      if (isEnumerable.call(provider, key)) {\n        target[key] = provider[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar toString = Object.prototype.toString;\n/**\n * Get the native `typeof` a value.\n *\n * @param  {*} `val`\n * @return {*} Native javascript type\n */\n\nvar kindOf = function kindOf(val) {\n  var type = typeof val === 'undefined' ? 'undefined' : _typeof(val); // primitivies\n\n  if (type === 'undefined') {\n    return 'undefined';\n  }\n\n  if (val === null) {\n    return 'null';\n  }\n\n  if (val === true || val === false || val instanceof Boolean) {\n    return 'boolean';\n  }\n\n  if (type === 'string' || val instanceof String) {\n    return 'string';\n  }\n\n  if (type === 'number' || val instanceof Number) {\n    return 'number';\n  } // functions\n\n\n  if (type === 'function' || val instanceof Function) {\n    if (typeof val.constructor.name !== 'undefined' && val.constructor.name.slice(0, 9) === 'Generator') {\n      return 'generatorfunction';\n    }\n\n    return 'function';\n  } // array\n\n\n  if (typeof Array.isArray !== 'undefined' && Array.isArray(val)) {\n    return 'array';\n  } // check for instances of RegExp and Date before calling `toString`\n\n\n  if (val instanceof RegExp) {\n    return 'regexp';\n  }\n\n  if (val instanceof Date) {\n    return 'date';\n  } // other objects\n\n\n  type = toString.call(val);\n\n  if (type === '[object RegExp]') {\n    return 'regexp';\n  }\n\n  if (type === '[object Date]') {\n    return 'date';\n  }\n\n  if (type === '[object Arguments]') {\n    return 'arguments';\n  }\n\n  if (type === '[object Error]') {\n    return 'error';\n  }\n\n  if (type === '[object Promise]') {\n    return 'promise';\n  } // buffer\n\n\n  if (isBuffer(val)) {\n    return 'buffer';\n  } // es6: Map, WeakMap, Set, WeakSet\n\n\n  if (type === '[object Set]') {\n    return 'set';\n  }\n\n  if (type === '[object WeakSet]') {\n    return 'weakset';\n  }\n\n  if (type === '[object Map]') {\n    return 'map';\n  }\n\n  if (type === '[object WeakMap]') {\n    return 'weakmap';\n  }\n\n  if (type === '[object Symbol]') {\n    return 'symbol';\n  }\n\n  if (type === '[object Map Iterator]') {\n    return 'mapiterator';\n  }\n\n  if (type === '[object Set Iterator]') {\n    return 'setiterator';\n  }\n\n  if (type === '[object String Iterator]') {\n    return 'stringiterator';\n  }\n\n  if (type === '[object Array Iterator]') {\n    return 'arrayiterator';\n  } // typed arrays\n\n\n  if (type === '[object Int8Array]') {\n    return 'int8array';\n  }\n\n  if (type === '[object Uint8Array]') {\n    return 'uint8array';\n  }\n\n  if (type === '[object Uint8ClampedArray]') {\n    return 'uint8clampedarray';\n  }\n\n  if (type === '[object Int16Array]') {\n    return 'int16array';\n  }\n\n  if (type === '[object Uint16Array]') {\n    return 'uint16array';\n  }\n\n  if (type === '[object Int32Array]') {\n    return 'int32array';\n  }\n\n  if (type === '[object Uint32Array]') {\n    return 'uint32array';\n  }\n\n  if (type === '[object Float32Array]') {\n    return 'float32array';\n  }\n\n  if (type === '[object Float64Array]') {\n    return 'float64array';\n  } // must be a plain object\n\n\n  return 'object';\n};\n/**\n * If you need to support Safari 5-7 (8-10 yr-old browser),\n * take a look at https://github.com/feross/is-buffer\n */\n\n\nfunction isBuffer(val) {\n  return val.constructor && typeof val.constructor.isBuffer === 'function' && val.constructor.isBuffer(val);\n}\n\nfunction assign(target\n/*, objects*/\n) {\n  target = target || {};\n  var len = arguments.length,\n      i = 0;\n\n  if (len === 1) {\n    return target;\n  }\n\n  while (++i < len) {\n    var val = arguments[i];\n\n    if (isPrimitive(target)) {\n      target = val;\n    }\n\n    if (isObject$1(val)) {\n      extend(target, val);\n    }\n  }\n\n  return target;\n}\n/**\n * Shallow extend\n */\n\n\nfunction extend(target, obj) {\n  assignSymbols(target, obj);\n\n  for (var key in obj) {\n    if (key !== '__proto__' && hasOwn(obj, key)) {\n      var val = obj[key];\n\n      if (isObject$1(val)) {\n        if (kindOf(target[key]) === 'undefined' && kindOf(val) === 'function') {\n          target[key] = val;\n        }\n\n        target[key] = assign(target[key] || {}, val);\n      } else {\n        target[key] = val;\n      }\n    }\n  }\n\n  return target;\n}\n/**\n * Returns true if the object is a plain object or a function.\n */\n\n\nfunction isObject$1(obj) {\n  return kindOf(obj) === 'object' || kindOf(obj) === 'function';\n}\n/**\n * Returns true if the given `key` is an own property of `obj`.\n */\n\n\nfunction hasOwn(obj, key) {\n  return Object.prototype.hasOwnProperty.call(obj, key);\n}\n/**\n * Expose `assign`\n */\n\n\nvar assignDeep = assign;\nvar inBrowser = typeof window !== 'undefined';\nvar hasIntersectionObserver = checkIntersectionObserver();\n\nfunction checkIntersectionObserver() {\n  if (inBrowser && 'IntersectionObserver' in window && 'IntersectionObserverEntry' in window && 'intersectionRatio' in window.IntersectionObserverEntry.prototype) {\n    // Minimal polyfill for Edge 15's lack of `isIntersecting`\n    // See: https://github.com/w3c/IntersectionObserver/issues/211\n    if (!('isIntersecting' in window.IntersectionObserverEntry.prototype)) {\n      Object.defineProperty(window.IntersectionObserverEntry.prototype, 'isIntersecting', {\n        get: function get$$1() {\n          return this.intersectionRatio > 0;\n        }\n      });\n    }\n\n    return true;\n  }\n\n  return false;\n}\n\nvar modeType = {\n  event: 'event',\n  observer: 'observer' // CustomEvent polyfill\n\n};\n\nvar CustomEvent = function () {\n  if (!inBrowser) return;\n  if (typeof window.CustomEvent === 'function') return window.CustomEvent;\n\n  function CustomEvent(event, params) {\n    params = params || {\n      bubbles: false,\n      cancelable: false,\n      detail: undefined\n    };\n    var evt = document.createEvent('CustomEvent');\n    evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n    return evt;\n  }\n\n  CustomEvent.prototype = window.Event.prototype;\n  return CustomEvent;\n}();\n\nfunction remove(arr, item) {\n  if (!arr.length) return;\n  var index = arr.indexOf(item);\n  if (index > -1) return arr.splice(index, 1);\n}\n\nfunction some(arr, fn) {\n  var has = false;\n\n  for (var i = 0, len = arr.length; i < len; i++) {\n    if (fn(arr[i])) {\n      has = true;\n      break;\n    }\n  }\n\n  return has;\n}\n\nfunction getBestSelectionFromSrcset(el, scale) {\n  if (el.tagName !== 'IMG' || !el.getAttribute('data-srcset')) return;\n  var options = el.getAttribute('data-srcset');\n  var result = [];\n  var container = el.parentNode;\n  var containerWidth = container.offsetWidth * scale;\n  var spaceIndex = void 0;\n  var tmpSrc = void 0;\n  var tmpWidth = void 0;\n  options = options.trim().split(',');\n  options.map(function (item) {\n    item = item.trim();\n    spaceIndex = item.lastIndexOf(' ');\n\n    if (spaceIndex === -1) {\n      tmpSrc = item;\n      tmpWidth = 999998;\n    } else {\n      tmpSrc = item.substr(0, spaceIndex);\n      tmpWidth = parseInt(item.substr(spaceIndex + 1, item.length - spaceIndex - 2), 10);\n    }\n\n    result.push([tmpWidth, tmpSrc]);\n  });\n  result.sort(function (a, b) {\n    if (a[0] < b[0]) {\n      return 1;\n    }\n\n    if (a[0] > b[0]) {\n      return -1;\n    }\n\n    if (a[0] === b[0]) {\n      if (b[1].indexOf('.webp', b[1].length - 5) !== -1) {\n        return 1;\n      }\n\n      if (a[1].indexOf('.webp', a[1].length - 5) !== -1) {\n        return -1;\n      }\n    }\n\n    return 0;\n  });\n  var bestSelectedSrc = '';\n  var tmpOption = void 0;\n\n  for (var i = 0; i < result.length; i++) {\n    tmpOption = result[i];\n    bestSelectedSrc = tmpOption[1];\n    var next = result[i + 1];\n\n    if (next && next[0] < containerWidth) {\n      bestSelectedSrc = tmpOption[1];\n      break;\n    } else if (!next) {\n      bestSelectedSrc = tmpOption[1];\n      break;\n    }\n  }\n\n  return bestSelectedSrc;\n}\n\nfunction find(arr, fn) {\n  var item = void 0;\n\n  for (var i = 0, len = arr.length; i < len; i++) {\n    if (fn(arr[i])) {\n      item = arr[i];\n      break;\n    }\n  }\n\n  return item;\n}\n\nvar getDPR = function getDPR() {\n  var scale = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n  return inBrowser ? window.devicePixelRatio || scale : scale;\n};\n\nfunction supportWebp() {\n  if (!inBrowser) return false;\n  var support = true;\n  var d = document;\n\n  try {\n    var el = d.createElement('object');\n    el.type = 'image/webp';\n    el.style.visibility = 'hidden';\n    el.innerHTML = '!';\n    d.body.appendChild(el);\n    support = !el.offsetWidth;\n    d.body.removeChild(el);\n  } catch (err) {\n    support = false;\n  }\n\n  return support;\n}\n\nfunction throttle(action, delay) {\n  var timeout = null;\n  var lastRun = 0;\n  return function () {\n    if (timeout) {\n      return;\n    }\n\n    var elapsed = Date.now() - lastRun;\n    var context = this;\n    var args = arguments;\n\n    var runCallback = function runCallback() {\n      lastRun = Date.now();\n      timeout = false;\n      action.apply(context, args);\n    };\n\n    if (elapsed >= delay) {\n      runCallback();\n    } else {\n      timeout = setTimeout(runCallback, delay);\n    }\n  };\n}\n\nfunction testSupportsPassive() {\n  if (!inBrowser) return;\n  var support = false;\n\n  try {\n    var opts = Object.defineProperty({}, 'passive', {\n      get: function get$$1() {\n        support = true;\n      }\n    });\n    window.addEventListener('test', null, opts);\n  } catch (e) {}\n\n  return support;\n}\n\nvar supportsPassive = testSupportsPassive();\nvar _ = {\n  on: function on(el, type, func) {\n    var capture = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n    if (supportsPassive) {\n      el.addEventListener(type, func, {\n        capture: capture,\n        passive: true\n      });\n    } else {\n      el.addEventListener(type, func, capture);\n    }\n  },\n  off: function off(el, type, func) {\n    var capture = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n    el.removeEventListener(type, func, capture);\n  }\n};\n\nvar loadImageAsync = function loadImageAsync(item, resolve, reject) {\n  var image = new Image();\n\n  if (!item || !item.src) {\n    var err = new Error('image src is required');\n    return reject(err);\n  }\n\n  image.src = item.src;\n\n  image.onload = function () {\n    resolve({\n      naturalHeight: image.naturalHeight,\n      naturalWidth: image.naturalWidth,\n      src: image.src\n    });\n  };\n\n  image.onerror = function (e) {\n    reject(e);\n  };\n};\n\nvar style = function style(el, prop) {\n  return typeof getComputedStyle !== 'undefined' ? getComputedStyle(el, null).getPropertyValue(prop) : el.style[prop];\n};\n\nvar overflow = function overflow(el) {\n  return style(el, 'overflow') + style(el, 'overflow-y') + style(el, 'overflow-x');\n};\n\nvar scrollParent = function scrollParent(el) {\n  if (!inBrowser) return;\n\n  if (!(el instanceof HTMLElement)) {\n    return window;\n  }\n\n  var parent = el;\n\n  while (parent) {\n    if (parent === document.body || parent === document.documentElement) {\n      break;\n    }\n\n    if (!parent.parentNode) {\n      break;\n    }\n\n    if (/(scroll|auto)/.test(overflow(parent))) {\n      return parent;\n    }\n\n    parent = parent.parentNode;\n  }\n\n  return window;\n};\n\nfunction isObject(obj) {\n  return obj !== null && (typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) === 'object';\n}\n\nfunction ObjectKeys(obj) {\n  if (!(obj instanceof Object)) return [];\n\n  if (Object.keys) {\n    return Object.keys(obj);\n  } else {\n    var keys = [];\n\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        keys.push(key);\n      }\n    }\n\n    return keys;\n  }\n}\n\nfunction ArrayFrom(arrLike) {\n  var len = arrLike.length;\n  var list = [];\n\n  for (var i = 0; i < len; i++) {\n    list.push(arrLike[i]);\n  }\n\n  return list;\n}\n\nfunction noop() {}\n\nvar ImageCache = function () {\n  function ImageCache(_ref) {\n    var max = _ref.max;\n    classCallCheck(this, ImageCache);\n    this.options = {\n      max: max || 100\n    };\n    this._caches = [];\n  }\n\n  createClass(ImageCache, [{\n    key: 'has',\n    value: function has(key) {\n      return this._caches.indexOf(key) > -1;\n    }\n  }, {\n    key: 'add',\n    value: function add(key) {\n      if (this.has(key)) return;\n\n      this._caches.push(key);\n\n      if (this._caches.length > this.options.max) {\n        this.free();\n      }\n    }\n  }, {\n    key: 'free',\n    value: function free() {\n      this._caches.shift();\n    }\n  }]);\n  return ImageCache;\n}(); // el: {\n//     state,\n//     src,\n//     error,\n//     loading\n// }\n\n\nvar ReactiveListener = function () {\n  function ReactiveListener(_ref) {\n    var el = _ref.el,\n        src = _ref.src,\n        error = _ref.error,\n        loading = _ref.loading,\n        bindType = _ref.bindType,\n        $parent = _ref.$parent,\n        options = _ref.options,\n        elRenderer = _ref.elRenderer,\n        imageCache = _ref.imageCache;\n    classCallCheck(this, ReactiveListener);\n    this.el = el;\n    this.src = src;\n    this.error = error;\n    this.loading = loading;\n    this.bindType = bindType;\n    this.attempt = 0;\n    this.naturalHeight = 0;\n    this.naturalWidth = 0;\n    this.options = options;\n    this.rect = null;\n    this.$parent = $parent;\n    this.elRenderer = elRenderer;\n    this._imageCache = imageCache;\n    this.performanceData = {\n      init: Date.now(),\n      loadStart: 0,\n      loadEnd: 0\n    };\n    this.filter();\n    this.initState();\n    this.render('loading', false);\n  }\n  /*\n   * init listener state\n   * @return\n   */\n\n\n  createClass(ReactiveListener, [{\n    key: 'initState',\n    value: function initState() {\n      if ('dataset' in this.el) {\n        this.el.dataset.src = this.src;\n      } else {\n        this.el.setAttribute('data-src', this.src);\n      }\n\n      this.state = {\n        loading: false,\n        error: false,\n        loaded: false,\n        rendered: false\n      };\n    }\n    /*\n     * record performance\n     * @return\n     */\n\n  }, {\n    key: 'record',\n    value: function record(event) {\n      this.performanceData[event] = Date.now();\n    }\n    /*\n     * update image listener data\n     * @param  {String} image uri\n     * @param  {String} loading image uri\n     * @param  {String} error image uri\n     * @return\n     */\n\n  }, {\n    key: 'update',\n    value: function update(_ref2) {\n      var src = _ref2.src,\n          loading = _ref2.loading,\n          error = _ref2.error;\n      var oldSrc = this.src;\n      this.src = src;\n      this.loading = loading;\n      this.error = error;\n      this.filter();\n\n      if (oldSrc !== this.src) {\n        this.attempt = 0;\n        this.initState();\n      }\n    }\n    /*\n     * get el node rect\n     * @return\n     */\n\n  }, {\n    key: 'getRect',\n    value: function getRect() {\n      this.rect = this.el.getBoundingClientRect();\n    }\n    /*\n     *  check el is in view\n     * @return {Boolean} el is in view\n     */\n\n  }, {\n    key: 'checkInView',\n    value: function checkInView() {\n      this.getRect();\n      return this.rect.top < window.innerHeight * this.options.preLoad && this.rect.bottom > this.options.preLoadTop && this.rect.left < window.innerWidth * this.options.preLoad && this.rect.right > 0;\n    }\n    /*\n     * listener filter\n     */\n\n  }, {\n    key: 'filter',\n    value: function filter() {\n      var _this = this;\n\n      ObjectKeys(this.options.filter).map(function (key) {\n        _this.options.filter[key](_this, _this.options);\n      });\n    }\n    /*\n     * render loading first\n     * @params cb:Function\n     * @return\n     */\n\n  }, {\n    key: 'renderLoading',\n    value: function renderLoading(cb) {\n      var _this2 = this;\n\n      this.state.loading = true;\n      loadImageAsync({\n        src: this.loading\n      }, function (data) {\n        _this2.render('loading', false);\n\n        _this2.state.loading = false;\n        cb();\n      }, function () {\n        // handler `loading image` load failed\n        cb();\n        _this2.state.loading = false;\n        if (!_this2.options.silent) console.warn('VueLazyload log: load failed with loading image(' + _this2.loading + ')');\n      });\n    }\n    /*\n     * try load image and  render it\n     * @return\n     */\n\n  }, {\n    key: 'load',\n    value: function load() {\n      var _this3 = this;\n\n      var onFinish = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : noop;\n\n      if (this.attempt > this.options.attempt - 1 && this.state.error) {\n        if (!this.options.silent) console.log('VueLazyload log: ' + this.src + ' tried too more than ' + this.options.attempt + ' times');\n        onFinish();\n        return;\n      }\n\n      if (this.state.rendered && this.state.loaded) return;\n\n      if (this._imageCache.has(this.src)) {\n        this.state.loaded = true;\n        this.render('loaded', true);\n        this.state.rendered = true;\n        return onFinish();\n      }\n\n      this.renderLoading(function () {\n        _this3.attempt++;\n        _this3.options.adapter['beforeLoad'] && _this3.options.adapter['beforeLoad'](_this3, _this3.options);\n\n        _this3.record('loadStart');\n\n        loadImageAsync({\n          src: _this3.src\n        }, function (data) {\n          _this3.naturalHeight = data.naturalHeight;\n          _this3.naturalWidth = data.naturalWidth;\n          _this3.state.loaded = true;\n          _this3.state.error = false;\n\n          _this3.record('loadEnd');\n\n          _this3.render('loaded', false);\n\n          _this3.state.rendered = true;\n\n          _this3._imageCache.add(_this3.src);\n\n          onFinish();\n        }, function (err) {\n          !_this3.options.silent && console.error(err);\n          _this3.state.error = true;\n          _this3.state.loaded = false;\n\n          _this3.render('error', false);\n        });\n      });\n    }\n    /*\n     * render image\n     * @param  {String} state to render // ['loading', 'src', 'error']\n     * @param  {String} is form cache\n     * @return\n     */\n\n  }, {\n    key: 'render',\n    value: function render(state, cache) {\n      this.elRenderer(this, state, cache);\n    }\n    /*\n     * output performance data\n     * @return {Object} performance data\n     */\n\n  }, {\n    key: 'performance',\n    value: function performance() {\n      var state = 'loading';\n      var time = 0;\n\n      if (this.state.loaded) {\n        state = 'loaded';\n        time = (this.performanceData.loadEnd - this.performanceData.loadStart) / 1000;\n      }\n\n      if (this.state.error) state = 'error';\n      return {\n        src: this.src,\n        state: state,\n        time: time\n      };\n    }\n    /*\n     * $destroy\n     * @return\n     */\n\n  }, {\n    key: '$destroy',\n    value: function $destroy() {\n      this.el = null;\n      this.src = null;\n      this.error = null;\n      this.loading = null;\n      this.bindType = null;\n      this.attempt = 0;\n    }\n  }]);\n  return ReactiveListener;\n}();\n\nvar DEFAULT_URL = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\nvar DEFAULT_EVENTS = ['scroll', 'wheel', 'mousewheel', 'resize', 'animationend', 'transitionend', 'touchmove'];\nvar DEFAULT_OBSERVER_OPTIONS = {\n  rootMargin: '0px',\n  threshold: 0\n};\n\nvar Lazy = function Lazy(Vue) {\n  return function () {\n    function Lazy(_ref) {\n      var preLoad = _ref.preLoad,\n          error = _ref.error,\n          throttleWait = _ref.throttleWait,\n          preLoadTop = _ref.preLoadTop,\n          dispatchEvent = _ref.dispatchEvent,\n          loading = _ref.loading,\n          attempt = _ref.attempt,\n          _ref$silent = _ref.silent,\n          silent = _ref$silent === undefined ? true : _ref$silent,\n          scale = _ref.scale,\n          listenEvents = _ref.listenEvents,\n          hasbind = _ref.hasbind,\n          filter = _ref.filter,\n          adapter = _ref.adapter,\n          observer = _ref.observer,\n          observerOptions = _ref.observerOptions;\n      classCallCheck(this, Lazy);\n      this.version = '1.3.3';\n      this.mode = modeType.event;\n      this.ListenerQueue = [];\n      this.TargetIndex = 0;\n      this.TargetQueue = [];\n      this.options = {\n        silent: silent,\n        dispatchEvent: !!dispatchEvent,\n        throttleWait: throttleWait || 200,\n        preLoad: preLoad || 1.3,\n        preLoadTop: preLoadTop || 0,\n        error: error || DEFAULT_URL,\n        loading: loading || DEFAULT_URL,\n        attempt: attempt || 3,\n        scale: scale || getDPR(scale),\n        ListenEvents: listenEvents || DEFAULT_EVENTS,\n        hasbind: false,\n        supportWebp: supportWebp(),\n        filter: filter || {},\n        adapter: adapter || {},\n        observer: !!observer,\n        observerOptions: observerOptions || DEFAULT_OBSERVER_OPTIONS\n      };\n\n      this._initEvent();\n\n      this._imageCache = new ImageCache({\n        max: 200\n      });\n      this.lazyLoadHandler = throttle(this._lazyLoadHandler.bind(this), this.options.throttleWait);\n      this.setMode(this.options.observer ? modeType.observer : modeType.event);\n    }\n    /**\n     * update config\n     * @param  {Object} config params\n     * @return\n     */\n\n\n    createClass(Lazy, [{\n      key: 'config',\n      value: function config() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        assignDeep(this.options, options);\n      }\n      /**\n       * output listener's load performance\n       * @return {Array}\n       */\n\n    }, {\n      key: 'performance',\n      value: function performance() {\n        var list = [];\n        this.ListenerQueue.map(function (item) {\n          list.push(item.performance());\n        });\n        return list;\n      }\n      /*\n       * add lazy component to queue\n       * @param  {Vue} vm lazy component instance\n       * @return\n       */\n\n    }, {\n      key: 'addLazyBox',\n      value: function addLazyBox(vm) {\n        this.ListenerQueue.push(vm);\n\n        if (inBrowser) {\n          this._addListenerTarget(window);\n\n          this._observer && this._observer.observe(vm.el);\n\n          if (vm.$el && vm.$el.parentNode) {\n            this._addListenerTarget(vm.$el.parentNode);\n          }\n        }\n      }\n      /*\n       * add image listener to queue\n       * @param  {DOM} el\n       * @param  {object} binding vue directive binding\n       * @param  {vnode} vnode vue directive vnode\n       * @return\n       */\n\n    }, {\n      key: 'add',\n      value: function add(el, binding, vnode) {\n        var _this = this;\n\n        if (some(this.ListenerQueue, function (item) {\n          return item.el === el;\n        })) {\n          this.update(el, binding);\n          return Vue.nextTick(this.lazyLoadHandler);\n        }\n\n        var _valueFormatter2 = this._valueFormatter(binding.value),\n            src = _valueFormatter2.src,\n            loading = _valueFormatter2.loading,\n            error = _valueFormatter2.error;\n\n        Vue.nextTick(function () {\n          src = getBestSelectionFromSrcset(el, _this.options.scale) || src;\n          _this._observer && _this._observer.observe(el);\n          var container = Object.keys(binding.modifiers)[0];\n          var $parent = void 0;\n\n          if (container) {\n            $parent = vnode.context.$refs[container]; // if there is container passed in, try ref first, then fallback to getElementById to support the original usage\n\n            $parent = $parent ? $parent.$el || $parent : document.getElementById(container);\n          }\n\n          if (!$parent) {\n            $parent = scrollParent(el);\n          }\n\n          var newListener = new ReactiveListener({\n            bindType: binding.arg,\n            $parent: $parent,\n            el: el,\n            loading: loading,\n            error: error,\n            src: src,\n            elRenderer: _this._elRenderer.bind(_this),\n            options: _this.options,\n            imageCache: _this._imageCache\n          });\n\n          _this.ListenerQueue.push(newListener);\n\n          if (inBrowser) {\n            _this._addListenerTarget(window);\n\n            _this._addListenerTarget($parent);\n          }\n\n          _this.lazyLoadHandler();\n\n          Vue.nextTick(function () {\n            return _this.lazyLoadHandler();\n          });\n        });\n      }\n      /**\n      * update image src\n      * @param  {DOM} el\n      * @param  {object} vue directive binding\n      * @return\n      */\n\n    }, {\n      key: 'update',\n      value: function update(el, binding, vnode) {\n        var _this2 = this;\n\n        var _valueFormatter3 = this._valueFormatter(binding.value),\n            src = _valueFormatter3.src,\n            loading = _valueFormatter3.loading,\n            error = _valueFormatter3.error;\n\n        src = getBestSelectionFromSrcset(el, this.options.scale) || src;\n        var exist = find(this.ListenerQueue, function (item) {\n          return item.el === el;\n        });\n\n        if (!exist) {\n          this.add(el, binding, vnode);\n        } else {\n          exist.update({\n            src: src,\n            loading: loading,\n            error: error\n          });\n        }\n\n        if (this._observer) {\n          this._observer.unobserve(el);\n\n          this._observer.observe(el);\n        }\n\n        this.lazyLoadHandler();\n        Vue.nextTick(function () {\n          return _this2.lazyLoadHandler();\n        });\n      }\n      /**\n      * remove listener form list\n      * @param  {DOM} el\n      * @return\n      */\n\n    }, {\n      key: 'remove',\n      value: function remove$$1(el) {\n        if (!el) return;\n        this._observer && this._observer.unobserve(el);\n        var existItem = find(this.ListenerQueue, function (item) {\n          return item.el === el;\n        });\n\n        if (existItem) {\n          this._removeListenerTarget(existItem.$parent);\n\n          this._removeListenerTarget(window);\n\n          remove(this.ListenerQueue, existItem);\n          existItem.$destroy();\n        }\n      }\n      /*\n       * remove lazy components form list\n       * @param  {Vue} vm Vue instance\n       * @return\n       */\n\n    }, {\n      key: 'removeComponent',\n      value: function removeComponent(vm) {\n        if (!vm) return;\n        remove(this.ListenerQueue, vm);\n        this._observer && this._observer.unobserve(vm.el);\n\n        if (vm.$parent && vm.$el.parentNode) {\n          this._removeListenerTarget(vm.$el.parentNode);\n        }\n\n        this._removeListenerTarget(window);\n      }\n    }, {\n      key: 'setMode',\n      value: function setMode(mode) {\n        var _this3 = this;\n\n        if (!hasIntersectionObserver && mode === modeType.observer) {\n          mode = modeType.event;\n        }\n\n        this.mode = mode; // event or observer\n\n        if (mode === modeType.event) {\n          if (this._observer) {\n            this.ListenerQueue.forEach(function (listener) {\n              _this3._observer.unobserve(listener.el);\n            });\n            this._observer = null;\n          }\n\n          this.TargetQueue.forEach(function (target) {\n            _this3._initListen(target.el, true);\n          });\n        } else {\n          this.TargetQueue.forEach(function (target) {\n            _this3._initListen(target.el, false);\n          });\n\n          this._initIntersectionObserver();\n        }\n      }\n      /*\n      *** Private functions ***\n      */\n\n      /*\n       * add listener target\n       * @param  {DOM} el listener target\n       * @return\n       */\n\n    }, {\n      key: '_addListenerTarget',\n      value: function _addListenerTarget(el) {\n        if (!el) return;\n        var target = find(this.TargetQueue, function (target) {\n          return target.el === el;\n        });\n\n        if (!target) {\n          target = {\n            el: el,\n            id: ++this.TargetIndex,\n            childrenCount: 1,\n            listened: true\n          };\n          this.mode === modeType.event && this._initListen(target.el, true);\n          this.TargetQueue.push(target);\n        } else {\n          target.childrenCount++;\n        }\n\n        return this.TargetIndex;\n      }\n      /*\n       * remove listener target or reduce target childrenCount\n       * @param  {DOM} el or window\n       * @return\n       */\n\n    }, {\n      key: '_removeListenerTarget',\n      value: function _removeListenerTarget(el) {\n        var _this4 = this;\n\n        this.TargetQueue.forEach(function (target, index) {\n          if (target.el === el) {\n            target.childrenCount--;\n\n            if (!target.childrenCount) {\n              _this4._initListen(target.el, false);\n\n              _this4.TargetQueue.splice(index, 1);\n\n              target = null;\n            }\n          }\n        });\n      }\n      /*\n       * add or remove eventlistener\n       * @param  {DOM} el DOM or Window\n       * @param  {boolean} start flag\n       * @return\n       */\n\n    }, {\n      key: '_initListen',\n      value: function _initListen(el, start) {\n        var _this5 = this;\n\n        this.options.ListenEvents.forEach(function (evt) {\n          return _[start ? 'on' : 'off'](el, evt, _this5.lazyLoadHandler);\n        });\n      }\n    }, {\n      key: '_initEvent',\n      value: function _initEvent() {\n        var _this6 = this;\n\n        this.Event = {\n          listeners: {\n            loading: [],\n            loaded: [],\n            error: []\n          }\n        };\n\n        this.$on = function (event, func) {\n          if (!_this6.Event.listeners[event]) _this6.Event.listeners[event] = [];\n\n          _this6.Event.listeners[event].push(func);\n        };\n\n        this.$once = function (event, func) {\n          var vm = _this6;\n\n          function on() {\n            vm.$off(event, on);\n            func.apply(vm, arguments);\n          }\n\n          _this6.$on(event, on);\n        };\n\n        this.$off = function (event, func) {\n          if (!func) {\n            if (!_this6.Event.listeners[event]) return;\n            _this6.Event.listeners[event].length = 0;\n            return;\n          }\n\n          remove(_this6.Event.listeners[event], func);\n        };\n\n        this.$emit = function (event, context, inCache) {\n          if (!_this6.Event.listeners[event]) return;\n\n          _this6.Event.listeners[event].forEach(function (func) {\n            return func(context, inCache);\n          });\n        };\n      }\n      /**\n       * find nodes which in viewport and trigger load\n       * @return\n       */\n\n    }, {\n      key: '_lazyLoadHandler',\n      value: function _lazyLoadHandler() {\n        var _this7 = this;\n\n        var freeList = [];\n        this.ListenerQueue.forEach(function (listener, index) {\n          if (!listener.el || !listener.el.parentNode) {\n            freeList.push(listener);\n          }\n\n          var catIn = listener.checkInView();\n          if (!catIn) return;\n          listener.load();\n        });\n        freeList.forEach(function (item) {\n          remove(_this7.ListenerQueue, item);\n          item.$destroy();\n        });\n      }\n      /**\n      * init IntersectionObserver\n      * set mode to observer\n      * @return\n      */\n\n    }, {\n      key: '_initIntersectionObserver',\n      value: function _initIntersectionObserver() {\n        var _this8 = this;\n\n        if (!hasIntersectionObserver) return;\n        this._observer = new IntersectionObserver(this._observerHandler.bind(this), this.options.observerOptions);\n\n        if (this.ListenerQueue.length) {\n          this.ListenerQueue.forEach(function (listener) {\n            _this8._observer.observe(listener.el);\n          });\n        }\n      }\n      /**\n      * init IntersectionObserver\n      * @return\n      */\n\n    }, {\n      key: '_observerHandler',\n      value: function _observerHandler(entries, observer) {\n        var _this9 = this;\n\n        entries.forEach(function (entry) {\n          if (entry.isIntersecting) {\n            _this9.ListenerQueue.forEach(function (listener) {\n              if (listener.el === entry.target) {\n                if (listener.state.loaded) return _this9._observer.unobserve(listener.el);\n                listener.load();\n              }\n            });\n          }\n        });\n      }\n      /**\n      * set element attribute with image'url and state\n      * @param  {object} lazyload listener object\n      * @param  {string} state will be rendered\n      * @param  {bool} inCache  is rendered from cache\n      * @return\n      */\n\n    }, {\n      key: '_elRenderer',\n      value: function _elRenderer(listener, state, cache) {\n        if (!listener.el) return;\n        var el = listener.el,\n            bindType = listener.bindType;\n        var src = void 0;\n\n        switch (state) {\n          case 'loading':\n            src = listener.loading;\n            break;\n\n          case 'error':\n            src = listener.error;\n            break;\n\n          default:\n            src = listener.src;\n            break;\n        }\n\n        if (bindType) {\n          el.style[bindType] = 'url(\"' + src + '\")';\n        } else if (el.getAttribute('src') !== src) {\n          el.setAttribute('src', src);\n        }\n\n        el.setAttribute('lazy', state);\n        this.$emit(state, listener, cache);\n        this.options.adapter[state] && this.options.adapter[state](listener, this.options);\n\n        if (this.options.dispatchEvent) {\n          var event = new CustomEvent(state, {\n            detail: listener\n          });\n          el.dispatchEvent(event);\n        }\n      }\n      /**\n      * generate loading loaded error image url\n      * @param {string} image's src\n      * @return {object} image's loading, loaded, error url\n      */\n\n    }, {\n      key: '_valueFormatter',\n      value: function _valueFormatter(value) {\n        var src = value;\n        var loading = this.options.loading;\n        var error = this.options.error; // value is object\n\n        if (isObject(value)) {\n          if (!value.src && !this.options.silent) console.error('Vue Lazyload warning: miss src with ' + value);\n          src = value.src;\n          loading = value.loading || this.options.loading;\n          error = value.error || this.options.error;\n        }\n\n        return {\n          src: src,\n          loading: loading,\n          error: error\n        };\n      }\n    }]);\n    return Lazy;\n  }();\n};\n\nvar LazyComponent = function LazyComponent(lazy) {\n  return {\n    props: {\n      tag: {\n        type: String,\n        default: 'div'\n      }\n    },\n    render: function render(h) {\n      if (this.show === false) {\n        return h(this.tag);\n      }\n\n      return h(this.tag, null, this.$slots.default);\n    },\n    data: function data() {\n      return {\n        el: null,\n        state: {\n          loaded: false\n        },\n        rect: {},\n        show: false\n      };\n    },\n    mounted: function mounted() {\n      this.el = this.$el;\n      lazy.addLazyBox(this);\n      lazy.lazyLoadHandler();\n    },\n    beforeDestroy: function beforeDestroy() {\n      lazy.removeComponent(this);\n    },\n    methods: {\n      getRect: function getRect() {\n        this.rect = this.$el.getBoundingClientRect();\n      },\n      checkInView: function checkInView() {\n        this.getRect();\n        return inBrowser && this.rect.top < window.innerHeight * lazy.options.preLoad && this.rect.bottom > 0 && this.rect.left < window.innerWidth * lazy.options.preLoad && this.rect.right > 0;\n      },\n      load: function load() {\n        this.show = true;\n        this.state.loaded = true;\n        this.$emit('show', this);\n      },\n      destroy: function destroy() {\n        return this.$destroy;\n      }\n    }\n  };\n};\n\nvar LazyContainerMananger = function () {\n  function LazyContainerMananger(_ref) {\n    var lazy = _ref.lazy;\n    classCallCheck(this, LazyContainerMananger);\n    this.lazy = lazy;\n    lazy.lazyContainerMananger = this;\n    this._queue = [];\n  }\n\n  createClass(LazyContainerMananger, [{\n    key: 'bind',\n    value: function bind(el, binding, vnode) {\n      var container = new LazyContainer$1({\n        el: el,\n        binding: binding,\n        vnode: vnode,\n        lazy: this.lazy\n      });\n\n      this._queue.push(container);\n    }\n  }, {\n    key: 'update',\n    value: function update(el, binding, vnode) {\n      var container = find(this._queue, function (item) {\n        return item.el === el;\n      });\n      if (!container) return;\n      container.update({\n        el: el,\n        binding: binding,\n        vnode: vnode\n      });\n    }\n  }, {\n    key: 'unbind',\n    value: function unbind(el, binding, vnode) {\n      var container = find(this._queue, function (item) {\n        return item.el === el;\n      });\n      if (!container) return;\n      container.clear();\n      remove(this._queue, container);\n    }\n  }]);\n  return LazyContainerMananger;\n}();\n\nvar defaultOptions = {\n  selector: 'img'\n};\n\nvar LazyContainer$1 = function () {\n  function LazyContainer(_ref2) {\n    var el = _ref2.el,\n        binding = _ref2.binding,\n        vnode = _ref2.vnode,\n        lazy = _ref2.lazy;\n    classCallCheck(this, LazyContainer);\n    this.el = null;\n    this.vnode = vnode;\n    this.binding = binding;\n    this.options = {};\n    this.lazy = lazy;\n    this._queue = [];\n    this.update({\n      el: el,\n      binding: binding\n    });\n  }\n\n  createClass(LazyContainer, [{\n    key: 'update',\n    value: function update(_ref3) {\n      var _this = this;\n\n      var el = _ref3.el,\n          binding = _ref3.binding;\n      this.el = el;\n      this.options = assignDeep({}, defaultOptions, binding.value);\n      var imgs = this.getImgs();\n      imgs.forEach(function (el) {\n        _this.lazy.add(el, assignDeep({}, _this.binding, {\n          value: {\n            src: 'dataset' in el ? el.dataset.src : el.getAttribute('data-src'),\n            error: ('dataset' in el ? el.dataset.error : el.getAttribute('data-error')) || _this.options.error,\n            loading: ('dataset' in el ? el.dataset.loading : el.getAttribute('data-loading')) || _this.options.loading\n          }\n        }), _this.vnode);\n      });\n    }\n  }, {\n    key: 'getImgs',\n    value: function getImgs() {\n      return ArrayFrom(this.el.querySelectorAll(this.options.selector));\n    }\n  }, {\n    key: 'clear',\n    value: function clear() {\n      var _this2 = this;\n\n      var imgs = this.getImgs();\n      imgs.forEach(function (el) {\n        return _this2.lazy.remove(el);\n      });\n      this.vnode = null;\n      this.binding = null;\n      this.lazy = null;\n    }\n  }]);\n  return LazyContainer;\n}();\n\nvar LazyImage = function LazyImage(lazyManager) {\n  return {\n    props: {\n      src: [String, Object],\n      tag: {\n        type: String,\n        default: 'img'\n      }\n    },\n    render: function render(h) {\n      return h(this.tag, {\n        attrs: {\n          src: this.renderSrc\n        }\n      }, this.$slots.default);\n    },\n    data: function data() {\n      return {\n        el: null,\n        options: {\n          src: '',\n          error: '',\n          loading: '',\n          attempt: lazyManager.options.attempt\n        },\n        state: {\n          loaded: false,\n          error: false,\n          attempt: 0\n        },\n        rect: {},\n        renderSrc: ''\n      };\n    },\n    watch: {\n      src: function src() {\n        this.init();\n        lazyManager.addLazyBox(this);\n        lazyManager.lazyLoadHandler();\n      }\n    },\n    created: function created() {\n      this.init();\n      this.renderSrc = this.options.loading;\n    },\n    mounted: function mounted() {\n      this.el = this.$el;\n      lazyManager.addLazyBox(this);\n      lazyManager.lazyLoadHandler();\n    },\n    beforeDestroy: function beforeDestroy() {\n      lazyManager.removeComponent(this);\n    },\n    methods: {\n      init: function init() {\n        var _lazyManager$_valueFo = lazyManager._valueFormatter(this.src),\n            src = _lazyManager$_valueFo.src,\n            loading = _lazyManager$_valueFo.loading,\n            error = _lazyManager$_valueFo.error;\n\n        this.state.loaded = false;\n        this.options.src = src;\n        this.options.error = error;\n        this.options.loading = loading;\n        this.renderSrc = this.options.loading;\n      },\n      getRect: function getRect() {\n        this.rect = this.$el.getBoundingClientRect();\n      },\n      checkInView: function checkInView() {\n        this.getRect();\n        return inBrowser && this.rect.top < window.innerHeight * lazyManager.options.preLoad && this.rect.bottom > 0 && this.rect.left < window.innerWidth * lazyManager.options.preLoad && this.rect.right > 0;\n      },\n      load: function load() {\n        var _this = this;\n\n        var onFinish = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : noop;\n\n        if (this.state.attempt > this.options.attempt - 1 && this.state.error) {\n          if (!lazyManager.options.silent) console.log('VueLazyload log: ' + this.options.src + ' tried too more than ' + this.options.attempt + ' times');\n          onFinish();\n          return;\n        }\n\n        var src = this.options.src;\n        loadImageAsync({\n          src: src\n        }, function (_ref) {\n          var src = _ref.src;\n          _this.renderSrc = src;\n          _this.state.loaded = true;\n        }, function (e) {\n          _this.state.attempt++;\n          _this.renderSrc = _this.options.error;\n          _this.state.error = true;\n        });\n      }\n    }\n  };\n};\n\nvar index = {\n  /*\n  * install function\n  * @param  {Vue} Vue\n  * @param  {object} options  lazyload options\n  */\n  install: function install(Vue) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var LazyClass = Lazy(Vue);\n    var lazy = new LazyClass(options);\n    var lazyContainer = new LazyContainerMananger({\n      lazy: lazy\n    });\n    var isVue2 = Vue.version.split('.')[0] === '2';\n    Vue.prototype.$Lazyload = lazy;\n\n    if (options.lazyComponent) {\n      Vue.component('lazy-component', LazyComponent(lazy));\n    }\n\n    if (options.lazyImage) {\n      Vue.component('lazy-image', LazyImage(lazy));\n    }\n\n    if (isVue2) {\n      Vue.directive('lazy', {\n        bind: lazy.add.bind(lazy),\n        update: lazy.update.bind(lazy),\n        componentUpdated: lazy.lazyLoadHandler.bind(lazy),\n        unbind: lazy.remove.bind(lazy)\n      });\n      Vue.directive('lazy-container', {\n        bind: lazyContainer.bind.bind(lazyContainer),\n        componentUpdated: lazyContainer.update.bind(lazyContainer),\n        unbind: lazyContainer.unbind.bind(lazyContainer)\n      });\n    } else {\n      Vue.directive('lazy', {\n        bind: lazy.lazyLoadHandler.bind(lazy),\n        update: function update(newValue, oldValue) {\n          assignDeep(this.vm.$refs, this.vm.$els);\n          lazy.add(this.el, {\n            modifiers: this.modifiers || {},\n            arg: this.arg,\n            value: newValue,\n            oldValue: oldValue\n          }, {\n            context: this.vm\n          });\n        },\n        unbind: function unbind() {\n          lazy.remove(this.el);\n        }\n      });\n      Vue.directive('lazy-container', {\n        update: function update(newValue, oldValue) {\n          lazyContainer.update(this.el, {\n            modifiers: this.modifiers || {},\n            arg: this.arg,\n            value: newValue,\n            oldValue: oldValue\n          }, {\n            context: this.vm\n          });\n        },\n        unbind: function unbind() {\n          lazyContainer.unbind(this.el);\n        }\n      });\n    }\n  }\n};\nexport default index;","map":{"version":3,"sources":["D:/exercise/web/my-app/node_modules/vue-lazyload/vue-lazyload.esm.js"],"names":["_typeof","Symbol","iterator","obj","constructor","prototype","classCallCheck","instance","Constructor","TypeError","createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","isPrimitive","value","assignSymbols","receiver","objects","getOwnPropertySymbols","isEnumerable","propertyIsEnumerable","len","arguments","provider","names","j","call","toString","kindOf","val","type","Boolean","String","Number","Function","name","slice","Array","isArray","RegExp","Date","isBuffer","assign","isObject$1","extend","hasOwn","hasOwnProperty","assignDeep","inBrowser","window","hasIntersectionObserver","checkIntersectionObserver","IntersectionObserverEntry","get","get$$1","intersectionRatio","modeType","event","observer","CustomEvent","params","bubbles","cancelable","detail","undefined","evt","document","createEvent","initCustomEvent","Event","remove","arr","item","index","indexOf","splice","some","fn","has","getBestSelectionFromSrcset","el","scale","tagName","getAttribute","options","result","container","parentNode","containerWidth","offsetWidth","spaceIndex","tmpSrc","tmpWidth","trim","split","map","lastIndexOf","substr","parseInt","push","sort","a","b","bestSelectedSrc","tmpOption","next","find","getDPR","devicePixelRatio","supportWebp","support","d","createElement","style","visibility","innerHTML","body","appendChild","removeChild","err","throttle","action","delay","timeout","lastRun","elapsed","now","context","args","runCallback","apply","setTimeout","testSupportsPassive","opts","addEventListener","e","supportsPassive","_","on","func","capture","passive","off","removeEventListener","loadImageAsync","resolve","reject","image","Image","src","Error","onload","naturalHeight","naturalWidth","onerror","prop","getComputedStyle","getPropertyValue","overflow","scrollParent","HTMLElement","parent","documentElement","test","isObject","ObjectKeys","keys","ArrayFrom","arrLike","list","noop","ImageCache","_ref","max","_caches","add","free","shift","ReactiveListener","error","loading","bindType","$parent","elRenderer","imageCache","attempt","rect","_imageCache","performanceData","init","loadStart","loadEnd","filter","initState","render","dataset","setAttribute","state","loaded","rendered","record","update","_ref2","oldSrc","getRect","getBoundingClientRect","checkInView","top","innerHeight","preLoad","bottom","preLoadTop","left","innerWidth","right","_this","renderLoading","cb","_this2","data","silent","console","warn","load","_this3","onFinish","log","adapter","cache","performance","time","$destroy","DEFAULT_URL","DEFAULT_EVENTS","DEFAULT_OBSERVER_OPTIONS","rootMargin","threshold","Lazy","Vue","throttleWait","dispatchEvent","_ref$silent","listenEvents","hasbind","observerOptions","version","mode","ListenerQueue","TargetIndex","TargetQueue","ListenEvents","_initEvent","lazyLoadHandler","_lazyLoadHandler","bind","setMode","config","addLazyBox","vm","_addListenerTarget","_observer","observe","$el","binding","vnode","nextTick","_valueFormatter2","_valueFormatter","modifiers","$refs","getElementById","newListener","arg","_elRenderer","_valueFormatter3","exist","unobserve","remove$$1","existItem","_removeListenerTarget","removeComponent","forEach","listener","_initListen","_initIntersectionObserver","id","childrenCount","listened","_this4","start","_this5","_this6","listeners","$on","$once","$off","$emit","inCache","_this7","freeList","catIn","_this8","IntersectionObserver","_observerHandler","entries","_this9","entry","isIntersecting","LazyComponent","lazy","tag","default","h","show","$slots","mounted","beforeDestroy","methods","destroy","LazyContainerMananger","lazyContainerMananger","_queue","LazyContainer$1","unbind","clear","defaultOptions","selector","LazyContainer","_ref3","imgs","getImgs","querySelectorAll","LazyImage","lazyManager","attrs","renderSrc","watch","created","_lazyManager$_valueFo","install","LazyClass","lazyContainer","isVue2","$Lazyload","lazyComponent","component","lazyImage","directive","componentUpdated","newValue","oldValue","$els"],"mappings":"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","sourcesContent":["/*!\n * Vue-Lazyload.js v1.3.3\n * (c) 2019 Awe <hilongjw@gmail.com>\n * Released under the MIT License.\n */\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\n\n\n\n\n\n\n\n\n\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n/*!\n * is-primitive <https://github.com/jonschlinkert/is-primitive>\n *\n * Copyright (c) 2014-2015, Jon Schlinkert.\n * Licensed under the MIT License.\n */\n\n// see http://jsperf.com/testing-value-is-primitive/7\n\nvar isPrimitive = function isPrimitive(value) {\n  return value == null || typeof value !== 'function' && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) !== 'object';\n};\n\n/*!\n * assign-symbols <https://github.com/jonschlinkert/assign-symbols>\n *\n * Copyright (c) 2015, Jon Schlinkert.\n * Licensed under the MIT License.\n */\n\nvar assignSymbols = function assignSymbols(receiver, objects) {\n  if (receiver === null || typeof receiver === 'undefined') {\n    throw new TypeError('expected first argument to be an object.');\n  }\n\n  if (typeof objects === 'undefined' || typeof Symbol === 'undefined') {\n    return receiver;\n  }\n\n  if (typeof Object.getOwnPropertySymbols !== 'function') {\n    return receiver;\n  }\n\n  var isEnumerable = Object.prototype.propertyIsEnumerable;\n  var target = Object(receiver);\n  var len = arguments.length,\n      i = 0;\n\n  while (++i < len) {\n    var provider = Object(arguments[i]);\n    var names = Object.getOwnPropertySymbols(provider);\n\n    for (var j = 0; j < names.length; j++) {\n      var key = names[j];\n\n      if (isEnumerable.call(provider, key)) {\n        target[key] = provider[key];\n      }\n    }\n  }\n  return target;\n};\n\nvar toString = Object.prototype.toString;\n\n/**\n * Get the native `typeof` a value.\n *\n * @param  {*} `val`\n * @return {*} Native javascript type\n */\n\nvar kindOf = function kindOf(val) {\n  var type = typeof val === 'undefined' ? 'undefined' : _typeof(val);\n\n  // primitivies\n  if (type === 'undefined') {\n    return 'undefined';\n  }\n  if (val === null) {\n    return 'null';\n  }\n  if (val === true || val === false || val instanceof Boolean) {\n    return 'boolean';\n  }\n  if (type === 'string' || val instanceof String) {\n    return 'string';\n  }\n  if (type === 'number' || val instanceof Number) {\n    return 'number';\n  }\n\n  // functions\n  if (type === 'function' || val instanceof Function) {\n    if (typeof val.constructor.name !== 'undefined' && val.constructor.name.slice(0, 9) === 'Generator') {\n      return 'generatorfunction';\n    }\n    return 'function';\n  }\n\n  // array\n  if (typeof Array.isArray !== 'undefined' && Array.isArray(val)) {\n    return 'array';\n  }\n\n  // check for instances of RegExp and Date before calling `toString`\n  if (val instanceof RegExp) {\n    return 'regexp';\n  }\n  if (val instanceof Date) {\n    return 'date';\n  }\n\n  // other objects\n  type = toString.call(val);\n\n  if (type === '[object RegExp]') {\n    return 'regexp';\n  }\n  if (type === '[object Date]') {\n    return 'date';\n  }\n  if (type === '[object Arguments]') {\n    return 'arguments';\n  }\n  if (type === '[object Error]') {\n    return 'error';\n  }\n  if (type === '[object Promise]') {\n    return 'promise';\n  }\n\n  // buffer\n  if (isBuffer(val)) {\n    return 'buffer';\n  }\n\n  // es6: Map, WeakMap, Set, WeakSet\n  if (type === '[object Set]') {\n    return 'set';\n  }\n  if (type === '[object WeakSet]') {\n    return 'weakset';\n  }\n  if (type === '[object Map]') {\n    return 'map';\n  }\n  if (type === '[object WeakMap]') {\n    return 'weakmap';\n  }\n  if (type === '[object Symbol]') {\n    return 'symbol';\n  }\n\n  if (type === '[object Map Iterator]') {\n    return 'mapiterator';\n  }\n  if (type === '[object Set Iterator]') {\n    return 'setiterator';\n  }\n  if (type === '[object String Iterator]') {\n    return 'stringiterator';\n  }\n  if (type === '[object Array Iterator]') {\n    return 'arrayiterator';\n  }\n\n  // typed arrays\n  if (type === '[object Int8Array]') {\n    return 'int8array';\n  }\n  if (type === '[object Uint8Array]') {\n    return 'uint8array';\n  }\n  if (type === '[object Uint8ClampedArray]') {\n    return 'uint8clampedarray';\n  }\n  if (type === '[object Int16Array]') {\n    return 'int16array';\n  }\n  if (type === '[object Uint16Array]') {\n    return 'uint16array';\n  }\n  if (type === '[object Int32Array]') {\n    return 'int32array';\n  }\n  if (type === '[object Uint32Array]') {\n    return 'uint32array';\n  }\n  if (type === '[object Float32Array]') {\n    return 'float32array';\n  }\n  if (type === '[object Float64Array]') {\n    return 'float64array';\n  }\n\n  // must be a plain object\n  return 'object';\n};\n\n/**\n * If you need to support Safari 5-7 (8-10 yr-old browser),\n * take a look at https://github.com/feross/is-buffer\n */\n\nfunction isBuffer(val) {\n  return val.constructor && typeof val.constructor.isBuffer === 'function' && val.constructor.isBuffer(val);\n}\n\nfunction assign(target /*, objects*/) {\n  target = target || {};\n  var len = arguments.length,\n      i = 0;\n  if (len === 1) {\n    return target;\n  }\n  while (++i < len) {\n    var val = arguments[i];\n    if (isPrimitive(target)) {\n      target = val;\n    }\n    if (isObject$1(val)) {\n      extend(target, val);\n    }\n  }\n  return target;\n}\n\n/**\n * Shallow extend\n */\n\nfunction extend(target, obj) {\n  assignSymbols(target, obj);\n\n  for (var key in obj) {\n    if (key !== '__proto__' && hasOwn(obj, key)) {\n      var val = obj[key];\n      if (isObject$1(val)) {\n        if (kindOf(target[key]) === 'undefined' && kindOf(val) === 'function') {\n          target[key] = val;\n        }\n        target[key] = assign(target[key] || {}, val);\n      } else {\n        target[key] = val;\n      }\n    }\n  }\n  return target;\n}\n\n/**\n * Returns true if the object is a plain object or a function.\n */\n\nfunction isObject$1(obj) {\n  return kindOf(obj) === 'object' || kindOf(obj) === 'function';\n}\n\n/**\n * Returns true if the given `key` is an own property of `obj`.\n */\n\nfunction hasOwn(obj, key) {\n  return Object.prototype.hasOwnProperty.call(obj, key);\n}\n\n/**\n * Expose `assign`\n */\n\nvar assignDeep = assign;\n\nvar inBrowser = typeof window !== 'undefined';\nvar hasIntersectionObserver = checkIntersectionObserver();\n\nfunction checkIntersectionObserver() {\n  if (inBrowser && 'IntersectionObserver' in window && 'IntersectionObserverEntry' in window && 'intersectionRatio' in window.IntersectionObserverEntry.prototype) {\n    // Minimal polyfill for Edge 15's lack of `isIntersecting`\n    // See: https://github.com/w3c/IntersectionObserver/issues/211\n    if (!('isIntersecting' in window.IntersectionObserverEntry.prototype)) {\n      Object.defineProperty(window.IntersectionObserverEntry.prototype, 'isIntersecting', {\n        get: function get$$1() {\n          return this.intersectionRatio > 0;\n        }\n      });\n    }\n    return true;\n  }\n  return false;\n}\n\nvar modeType = {\n  event: 'event',\n  observer: 'observer'\n\n  // CustomEvent polyfill\n};var CustomEvent = function () {\n  if (!inBrowser) return;\n  if (typeof window.CustomEvent === 'function') return window.CustomEvent;\n  function CustomEvent(event, params) {\n    params = params || { bubbles: false, cancelable: false, detail: undefined };\n    var evt = document.createEvent('CustomEvent');\n    evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n    return evt;\n  }\n  CustomEvent.prototype = window.Event.prototype;\n  return CustomEvent;\n}();\n\nfunction remove(arr, item) {\n  if (!arr.length) return;\n  var index = arr.indexOf(item);\n  if (index > -1) return arr.splice(index, 1);\n}\n\nfunction some(arr, fn) {\n  var has = false;\n  for (var i = 0, len = arr.length; i < len; i++) {\n    if (fn(arr[i])) {\n      has = true;\n      break;\n    }\n  }\n  return has;\n}\n\nfunction getBestSelectionFromSrcset(el, scale) {\n  if (el.tagName !== 'IMG' || !el.getAttribute('data-srcset')) return;\n\n  var options = el.getAttribute('data-srcset');\n  var result = [];\n  var container = el.parentNode;\n  var containerWidth = container.offsetWidth * scale;\n\n  var spaceIndex = void 0;\n  var tmpSrc = void 0;\n  var tmpWidth = void 0;\n\n  options = options.trim().split(',');\n\n  options.map(function (item) {\n    item = item.trim();\n    spaceIndex = item.lastIndexOf(' ');\n    if (spaceIndex === -1) {\n      tmpSrc = item;\n      tmpWidth = 999998;\n    } else {\n      tmpSrc = item.substr(0, spaceIndex);\n      tmpWidth = parseInt(item.substr(spaceIndex + 1, item.length - spaceIndex - 2), 10);\n    }\n    result.push([tmpWidth, tmpSrc]);\n  });\n\n  result.sort(function (a, b) {\n    if (a[0] < b[0]) {\n      return 1;\n    }\n    if (a[0] > b[0]) {\n      return -1;\n    }\n    if (a[0] === b[0]) {\n      if (b[1].indexOf('.webp', b[1].length - 5) !== -1) {\n        return 1;\n      }\n      if (a[1].indexOf('.webp', a[1].length - 5) !== -1) {\n        return -1;\n      }\n    }\n    return 0;\n  });\n  var bestSelectedSrc = '';\n  var tmpOption = void 0;\n\n  for (var i = 0; i < result.length; i++) {\n    tmpOption = result[i];\n    bestSelectedSrc = tmpOption[1];\n    var next = result[i + 1];\n    if (next && next[0] < containerWidth) {\n      bestSelectedSrc = tmpOption[1];\n      break;\n    } else if (!next) {\n      bestSelectedSrc = tmpOption[1];\n      break;\n    }\n  }\n\n  return bestSelectedSrc;\n}\n\nfunction find(arr, fn) {\n  var item = void 0;\n  for (var i = 0, len = arr.length; i < len; i++) {\n    if (fn(arr[i])) {\n      item = arr[i];\n      break;\n    }\n  }\n  return item;\n}\n\nvar getDPR = function getDPR() {\n  var scale = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n  return inBrowser ? window.devicePixelRatio || scale : scale;\n};\n\nfunction supportWebp() {\n  if (!inBrowser) return false;\n\n  var support = true;\n  var d = document;\n\n  try {\n    var el = d.createElement('object');\n    el.type = 'image/webp';\n    el.style.visibility = 'hidden';\n    el.innerHTML = '!';\n    d.body.appendChild(el);\n    support = !el.offsetWidth;\n    d.body.removeChild(el);\n  } catch (err) {\n    support = false;\n  }\n\n  return support;\n}\n\nfunction throttle(action, delay) {\n  var timeout = null;\n  var lastRun = 0;\n  return function () {\n    if (timeout) {\n      return;\n    }\n    var elapsed = Date.now() - lastRun;\n    var context = this;\n    var args = arguments;\n    var runCallback = function runCallback() {\n      lastRun = Date.now();\n      timeout = false;\n      action.apply(context, args);\n    };\n    if (elapsed >= delay) {\n      runCallback();\n    } else {\n      timeout = setTimeout(runCallback, delay);\n    }\n  };\n}\n\nfunction testSupportsPassive() {\n  if (!inBrowser) return;\n  var support = false;\n  try {\n    var opts = Object.defineProperty({}, 'passive', {\n      get: function get$$1() {\n        support = true;\n      }\n    });\n    window.addEventListener('test', null, opts);\n  } catch (e) {}\n  return support;\n}\n\nvar supportsPassive = testSupportsPassive();\n\nvar _ = {\n  on: function on(el, type, func) {\n    var capture = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n    if (supportsPassive) {\n      el.addEventListener(type, func, {\n        capture: capture,\n        passive: true\n      });\n    } else {\n      el.addEventListener(type, func, capture);\n    }\n  },\n  off: function off(el, type, func) {\n    var capture = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n    el.removeEventListener(type, func, capture);\n  }\n};\n\nvar loadImageAsync = function loadImageAsync(item, resolve, reject) {\n  var image = new Image();\n  if (!item || !item.src) {\n    var err = new Error('image src is required');\n    return reject(err);\n  }\n\n  image.src = item.src;\n\n  image.onload = function () {\n    resolve({\n      naturalHeight: image.naturalHeight,\n      naturalWidth: image.naturalWidth,\n      src: image.src\n    });\n  };\n\n  image.onerror = function (e) {\n    reject(e);\n  };\n};\n\nvar style = function style(el, prop) {\n  return typeof getComputedStyle !== 'undefined' ? getComputedStyle(el, null).getPropertyValue(prop) : el.style[prop];\n};\n\nvar overflow = function overflow(el) {\n  return style(el, 'overflow') + style(el, 'overflow-y') + style(el, 'overflow-x');\n};\n\nvar scrollParent = function scrollParent(el) {\n  if (!inBrowser) return;\n  if (!(el instanceof HTMLElement)) {\n    return window;\n  }\n\n  var parent = el;\n\n  while (parent) {\n    if (parent === document.body || parent === document.documentElement) {\n      break;\n    }\n\n    if (!parent.parentNode) {\n      break;\n    }\n\n    if (/(scroll|auto)/.test(overflow(parent))) {\n      return parent;\n    }\n\n    parent = parent.parentNode;\n  }\n\n  return window;\n};\n\nfunction isObject(obj) {\n  return obj !== null && (typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) === 'object';\n}\n\nfunction ObjectKeys(obj) {\n  if (!(obj instanceof Object)) return [];\n  if (Object.keys) {\n    return Object.keys(obj);\n  } else {\n    var keys = [];\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        keys.push(key);\n      }\n    }\n    return keys;\n  }\n}\n\nfunction ArrayFrom(arrLike) {\n  var len = arrLike.length;\n  var list = [];\n  for (var i = 0; i < len; i++) {\n    list.push(arrLike[i]);\n  }\n  return list;\n}\n\nfunction noop() {}\n\nvar ImageCache = function () {\n  function ImageCache(_ref) {\n    var max = _ref.max;\n    classCallCheck(this, ImageCache);\n\n    this.options = {\n      max: max || 100\n    };\n    this._caches = [];\n  }\n\n  createClass(ImageCache, [{\n    key: 'has',\n    value: function has(key) {\n      return this._caches.indexOf(key) > -1;\n    }\n  }, {\n    key: 'add',\n    value: function add(key) {\n      if (this.has(key)) return;\n      this._caches.push(key);\n      if (this._caches.length > this.options.max) {\n        this.free();\n      }\n    }\n  }, {\n    key: 'free',\n    value: function free() {\n      this._caches.shift();\n    }\n  }]);\n  return ImageCache;\n}();\n\n// el: {\n//     state,\n//     src,\n//     error,\n//     loading\n// }\n\nvar ReactiveListener = function () {\n  function ReactiveListener(_ref) {\n    var el = _ref.el,\n        src = _ref.src,\n        error = _ref.error,\n        loading = _ref.loading,\n        bindType = _ref.bindType,\n        $parent = _ref.$parent,\n        options = _ref.options,\n        elRenderer = _ref.elRenderer,\n        imageCache = _ref.imageCache;\n    classCallCheck(this, ReactiveListener);\n\n    this.el = el;\n    this.src = src;\n    this.error = error;\n    this.loading = loading;\n    this.bindType = bindType;\n    this.attempt = 0;\n\n    this.naturalHeight = 0;\n    this.naturalWidth = 0;\n\n    this.options = options;\n\n    this.rect = null;\n\n    this.$parent = $parent;\n    this.elRenderer = elRenderer;\n    this._imageCache = imageCache;\n    this.performanceData = {\n      init: Date.now(),\n      loadStart: 0,\n      loadEnd: 0\n    };\n\n    this.filter();\n    this.initState();\n    this.render('loading', false);\n  }\n\n  /*\n   * init listener state\n   * @return\n   */\n\n\n  createClass(ReactiveListener, [{\n    key: 'initState',\n    value: function initState() {\n      if ('dataset' in this.el) {\n        this.el.dataset.src = this.src;\n      } else {\n        this.el.setAttribute('data-src', this.src);\n      }\n\n      this.state = {\n        loading: false,\n        error: false,\n        loaded: false,\n        rendered: false\n      };\n    }\n\n    /*\n     * record performance\n     * @return\n     */\n\n  }, {\n    key: 'record',\n    value: function record(event) {\n      this.performanceData[event] = Date.now();\n    }\n\n    /*\n     * update image listener data\n     * @param  {String} image uri\n     * @param  {String} loading image uri\n     * @param  {String} error image uri\n     * @return\n     */\n\n  }, {\n    key: 'update',\n    value: function update(_ref2) {\n      var src = _ref2.src,\n          loading = _ref2.loading,\n          error = _ref2.error;\n\n      var oldSrc = this.src;\n      this.src = src;\n      this.loading = loading;\n      this.error = error;\n      this.filter();\n      if (oldSrc !== this.src) {\n        this.attempt = 0;\n        this.initState();\n      }\n    }\n\n    /*\n     * get el node rect\n     * @return\n     */\n\n  }, {\n    key: 'getRect',\n    value: function getRect() {\n      this.rect = this.el.getBoundingClientRect();\n    }\n\n    /*\n     *  check el is in view\n     * @return {Boolean} el is in view\n     */\n\n  }, {\n    key: 'checkInView',\n    value: function checkInView() {\n      this.getRect();\n      return this.rect.top < window.innerHeight * this.options.preLoad && this.rect.bottom > this.options.preLoadTop && this.rect.left < window.innerWidth * this.options.preLoad && this.rect.right > 0;\n    }\n\n    /*\n     * listener filter\n     */\n\n  }, {\n    key: 'filter',\n    value: function filter() {\n      var _this = this;\n\n      ObjectKeys(this.options.filter).map(function (key) {\n        _this.options.filter[key](_this, _this.options);\n      });\n    }\n\n    /*\n     * render loading first\n     * @params cb:Function\n     * @return\n     */\n\n  }, {\n    key: 'renderLoading',\n    value: function renderLoading(cb) {\n      var _this2 = this;\n\n      this.state.loading = true;\n      loadImageAsync({\n        src: this.loading\n      }, function (data) {\n        _this2.render('loading', false);\n        _this2.state.loading = false;\n        cb();\n      }, function () {\n        // handler `loading image` load failed\n        cb();\n        _this2.state.loading = false;\n        if (!_this2.options.silent) console.warn('VueLazyload log: load failed with loading image(' + _this2.loading + ')');\n      });\n    }\n\n    /*\n     * try load image and  render it\n     * @return\n     */\n\n  }, {\n    key: 'load',\n    value: function load() {\n      var _this3 = this;\n\n      var onFinish = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : noop;\n\n      if (this.attempt > this.options.attempt - 1 && this.state.error) {\n        if (!this.options.silent) console.log('VueLazyload log: ' + this.src + ' tried too more than ' + this.options.attempt + ' times');\n        onFinish();\n        return;\n      }\n      if (this.state.rendered && this.state.loaded) return;\n      if (this._imageCache.has(this.src)) {\n        this.state.loaded = true;\n        this.render('loaded', true);\n        this.state.rendered = true;\n        return onFinish();\n      }\n\n      this.renderLoading(function () {\n        _this3.attempt++;\n\n        _this3.options.adapter['beforeLoad'] && _this3.options.adapter['beforeLoad'](_this3, _this3.options);\n        _this3.record('loadStart');\n\n        loadImageAsync({\n          src: _this3.src\n        }, function (data) {\n          _this3.naturalHeight = data.naturalHeight;\n          _this3.naturalWidth = data.naturalWidth;\n          _this3.state.loaded = true;\n          _this3.state.error = false;\n          _this3.record('loadEnd');\n          _this3.render('loaded', false);\n          _this3.state.rendered = true;\n          _this3._imageCache.add(_this3.src);\n          onFinish();\n        }, function (err) {\n          !_this3.options.silent && console.error(err);\n          _this3.state.error = true;\n          _this3.state.loaded = false;\n          _this3.render('error', false);\n        });\n      });\n    }\n\n    /*\n     * render image\n     * @param  {String} state to render // ['loading', 'src', 'error']\n     * @param  {String} is form cache\n     * @return\n     */\n\n  }, {\n    key: 'render',\n    value: function render(state, cache) {\n      this.elRenderer(this, state, cache);\n    }\n\n    /*\n     * output performance data\n     * @return {Object} performance data\n     */\n\n  }, {\n    key: 'performance',\n    value: function performance() {\n      var state = 'loading';\n      var time = 0;\n\n      if (this.state.loaded) {\n        state = 'loaded';\n        time = (this.performanceData.loadEnd - this.performanceData.loadStart) / 1000;\n      }\n\n      if (this.state.error) state = 'error';\n\n      return {\n        src: this.src,\n        state: state,\n        time: time\n      };\n    }\n\n    /*\n     * $destroy\n     * @return\n     */\n\n  }, {\n    key: '$destroy',\n    value: function $destroy() {\n      this.el = null;\n      this.src = null;\n      this.error = null;\n      this.loading = null;\n      this.bindType = null;\n      this.attempt = 0;\n    }\n  }]);\n  return ReactiveListener;\n}();\n\nvar DEFAULT_URL = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\nvar DEFAULT_EVENTS = ['scroll', 'wheel', 'mousewheel', 'resize', 'animationend', 'transitionend', 'touchmove'];\nvar DEFAULT_OBSERVER_OPTIONS = {\n  rootMargin: '0px',\n  threshold: 0\n};\n\nvar Lazy = function (Vue) {\n  return function () {\n    function Lazy(_ref) {\n      var preLoad = _ref.preLoad,\n          error = _ref.error,\n          throttleWait = _ref.throttleWait,\n          preLoadTop = _ref.preLoadTop,\n          dispatchEvent = _ref.dispatchEvent,\n          loading = _ref.loading,\n          attempt = _ref.attempt,\n          _ref$silent = _ref.silent,\n          silent = _ref$silent === undefined ? true : _ref$silent,\n          scale = _ref.scale,\n          listenEvents = _ref.listenEvents,\n          hasbind = _ref.hasbind,\n          filter = _ref.filter,\n          adapter = _ref.adapter,\n          observer = _ref.observer,\n          observerOptions = _ref.observerOptions;\n      classCallCheck(this, Lazy);\n\n      this.version = '1.3.3';\n      this.mode = modeType.event;\n      this.ListenerQueue = [];\n      this.TargetIndex = 0;\n      this.TargetQueue = [];\n      this.options = {\n        silent: silent,\n        dispatchEvent: !!dispatchEvent,\n        throttleWait: throttleWait || 200,\n        preLoad: preLoad || 1.3,\n        preLoadTop: preLoadTop || 0,\n        error: error || DEFAULT_URL,\n        loading: loading || DEFAULT_URL,\n        attempt: attempt || 3,\n        scale: scale || getDPR(scale),\n        ListenEvents: listenEvents || DEFAULT_EVENTS,\n        hasbind: false,\n        supportWebp: supportWebp(),\n        filter: filter || {},\n        adapter: adapter || {},\n        observer: !!observer,\n        observerOptions: observerOptions || DEFAULT_OBSERVER_OPTIONS\n      };\n      this._initEvent();\n      this._imageCache = new ImageCache({ max: 200 });\n      this.lazyLoadHandler = throttle(this._lazyLoadHandler.bind(this), this.options.throttleWait);\n\n      this.setMode(this.options.observer ? modeType.observer : modeType.event);\n    }\n\n    /**\n     * update config\n     * @param  {Object} config params\n     * @return\n     */\n\n\n    createClass(Lazy, [{\n      key: 'config',\n      value: function config() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n        assignDeep(this.options, options);\n      }\n\n      /**\n       * output listener's load performance\n       * @return {Array}\n       */\n\n    }, {\n      key: 'performance',\n      value: function performance() {\n        var list = [];\n\n        this.ListenerQueue.map(function (item) {\n          list.push(item.performance());\n        });\n\n        return list;\n      }\n\n      /*\n       * add lazy component to queue\n       * @param  {Vue} vm lazy component instance\n       * @return\n       */\n\n    }, {\n      key: 'addLazyBox',\n      value: function addLazyBox(vm) {\n        this.ListenerQueue.push(vm);\n        if (inBrowser) {\n          this._addListenerTarget(window);\n          this._observer && this._observer.observe(vm.el);\n          if (vm.$el && vm.$el.parentNode) {\n            this._addListenerTarget(vm.$el.parentNode);\n          }\n        }\n      }\n\n      /*\n       * add image listener to queue\n       * @param  {DOM} el\n       * @param  {object} binding vue directive binding\n       * @param  {vnode} vnode vue directive vnode\n       * @return\n       */\n\n    }, {\n      key: 'add',\n      value: function add(el, binding, vnode) {\n        var _this = this;\n\n        if (some(this.ListenerQueue, function (item) {\n          return item.el === el;\n        })) {\n          this.update(el, binding);\n          return Vue.nextTick(this.lazyLoadHandler);\n        }\n\n        var _valueFormatter2 = this._valueFormatter(binding.value),\n            src = _valueFormatter2.src,\n            loading = _valueFormatter2.loading,\n            error = _valueFormatter2.error;\n\n        Vue.nextTick(function () {\n          src = getBestSelectionFromSrcset(el, _this.options.scale) || src;\n          _this._observer && _this._observer.observe(el);\n\n          var container = Object.keys(binding.modifiers)[0];\n          var $parent = void 0;\n\n          if (container) {\n            $parent = vnode.context.$refs[container];\n            // if there is container passed in, try ref first, then fallback to getElementById to support the original usage\n            $parent = $parent ? $parent.$el || $parent : document.getElementById(container);\n          }\n\n          if (!$parent) {\n            $parent = scrollParent(el);\n          }\n\n          var newListener = new ReactiveListener({\n            bindType: binding.arg,\n            $parent: $parent,\n            el: el,\n            loading: loading,\n            error: error,\n            src: src,\n            elRenderer: _this._elRenderer.bind(_this),\n            options: _this.options,\n            imageCache: _this._imageCache\n          });\n\n          _this.ListenerQueue.push(newListener);\n\n          if (inBrowser) {\n            _this._addListenerTarget(window);\n            _this._addListenerTarget($parent);\n          }\n\n          _this.lazyLoadHandler();\n          Vue.nextTick(function () {\n            return _this.lazyLoadHandler();\n          });\n        });\n      }\n\n      /**\n      * update image src\n      * @param  {DOM} el\n      * @param  {object} vue directive binding\n      * @return\n      */\n\n    }, {\n      key: 'update',\n      value: function update(el, binding, vnode) {\n        var _this2 = this;\n\n        var _valueFormatter3 = this._valueFormatter(binding.value),\n            src = _valueFormatter3.src,\n            loading = _valueFormatter3.loading,\n            error = _valueFormatter3.error;\n\n        src = getBestSelectionFromSrcset(el, this.options.scale) || src;\n\n        var exist = find(this.ListenerQueue, function (item) {\n          return item.el === el;\n        });\n        if (!exist) {\n          this.add(el, binding, vnode);\n        } else {\n          exist.update({\n            src: src,\n            loading: loading,\n            error: error\n          });\n        }\n        if (this._observer) {\n          this._observer.unobserve(el);\n          this._observer.observe(el);\n        }\n        this.lazyLoadHandler();\n        Vue.nextTick(function () {\n          return _this2.lazyLoadHandler();\n        });\n      }\n\n      /**\n      * remove listener form list\n      * @param  {DOM} el\n      * @return\n      */\n\n    }, {\n      key: 'remove',\n      value: function remove$$1(el) {\n        if (!el) return;\n        this._observer && this._observer.unobserve(el);\n        var existItem = find(this.ListenerQueue, function (item) {\n          return item.el === el;\n        });\n        if (existItem) {\n          this._removeListenerTarget(existItem.$parent);\n          this._removeListenerTarget(window);\n          remove(this.ListenerQueue, existItem);\n          existItem.$destroy();\n        }\n      }\n\n      /*\n       * remove lazy components form list\n       * @param  {Vue} vm Vue instance\n       * @return\n       */\n\n    }, {\n      key: 'removeComponent',\n      value: function removeComponent(vm) {\n        if (!vm) return;\n        remove(this.ListenerQueue, vm);\n        this._observer && this._observer.unobserve(vm.el);\n        if (vm.$parent && vm.$el.parentNode) {\n          this._removeListenerTarget(vm.$el.parentNode);\n        }\n        this._removeListenerTarget(window);\n      }\n    }, {\n      key: 'setMode',\n      value: function setMode(mode) {\n        var _this3 = this;\n\n        if (!hasIntersectionObserver && mode === modeType.observer) {\n          mode = modeType.event;\n        }\n\n        this.mode = mode; // event or observer\n\n        if (mode === modeType.event) {\n          if (this._observer) {\n            this.ListenerQueue.forEach(function (listener) {\n              _this3._observer.unobserve(listener.el);\n            });\n            this._observer = null;\n          }\n\n          this.TargetQueue.forEach(function (target) {\n            _this3._initListen(target.el, true);\n          });\n        } else {\n          this.TargetQueue.forEach(function (target) {\n            _this3._initListen(target.el, false);\n          });\n          this._initIntersectionObserver();\n        }\n      }\n\n      /*\n      *** Private functions ***\n      */\n\n      /*\n       * add listener target\n       * @param  {DOM} el listener target\n       * @return\n       */\n\n    }, {\n      key: '_addListenerTarget',\n      value: function _addListenerTarget(el) {\n        if (!el) return;\n        var target = find(this.TargetQueue, function (target) {\n          return target.el === el;\n        });\n        if (!target) {\n          target = {\n            el: el,\n            id: ++this.TargetIndex,\n            childrenCount: 1,\n            listened: true\n          };\n          this.mode === modeType.event && this._initListen(target.el, true);\n          this.TargetQueue.push(target);\n        } else {\n          target.childrenCount++;\n        }\n        return this.TargetIndex;\n      }\n\n      /*\n       * remove listener target or reduce target childrenCount\n       * @param  {DOM} el or window\n       * @return\n       */\n\n    }, {\n      key: '_removeListenerTarget',\n      value: function _removeListenerTarget(el) {\n        var _this4 = this;\n\n        this.TargetQueue.forEach(function (target, index) {\n          if (target.el === el) {\n            target.childrenCount--;\n            if (!target.childrenCount) {\n              _this4._initListen(target.el, false);\n              _this4.TargetQueue.splice(index, 1);\n              target = null;\n            }\n          }\n        });\n      }\n\n      /*\n       * add or remove eventlistener\n       * @param  {DOM} el DOM or Window\n       * @param  {boolean} start flag\n       * @return\n       */\n\n    }, {\n      key: '_initListen',\n      value: function _initListen(el, start) {\n        var _this5 = this;\n\n        this.options.ListenEvents.forEach(function (evt) {\n          return _[start ? 'on' : 'off'](el, evt, _this5.lazyLoadHandler);\n        });\n      }\n    }, {\n      key: '_initEvent',\n      value: function _initEvent() {\n        var _this6 = this;\n\n        this.Event = {\n          listeners: {\n            loading: [],\n            loaded: [],\n            error: []\n          }\n        };\n\n        this.$on = function (event, func) {\n          if (!_this6.Event.listeners[event]) _this6.Event.listeners[event] = [];\n          _this6.Event.listeners[event].push(func);\n        };\n\n        this.$once = function (event, func) {\n          var vm = _this6;\n          function on() {\n            vm.$off(event, on);\n            func.apply(vm, arguments);\n          }\n          _this6.$on(event, on);\n        };\n\n        this.$off = function (event, func) {\n          if (!func) {\n            if (!_this6.Event.listeners[event]) return;\n            _this6.Event.listeners[event].length = 0;\n            return;\n          }\n          remove(_this6.Event.listeners[event], func);\n        };\n\n        this.$emit = function (event, context, inCache) {\n          if (!_this6.Event.listeners[event]) return;\n          _this6.Event.listeners[event].forEach(function (func) {\n            return func(context, inCache);\n          });\n        };\n      }\n\n      /**\n       * find nodes which in viewport and trigger load\n       * @return\n       */\n\n    }, {\n      key: '_lazyLoadHandler',\n      value: function _lazyLoadHandler() {\n        var _this7 = this;\n\n        var freeList = [];\n        this.ListenerQueue.forEach(function (listener, index) {\n          if (!listener.el || !listener.el.parentNode) {\n            freeList.push(listener);\n          }\n          var catIn = listener.checkInView();\n          if (!catIn) return;\n          listener.load();\n        });\n        freeList.forEach(function (item) {\n          remove(_this7.ListenerQueue, item);\n          item.$destroy();\n        });\n      }\n      /**\n      * init IntersectionObserver\n      * set mode to observer\n      * @return\n      */\n\n    }, {\n      key: '_initIntersectionObserver',\n      value: function _initIntersectionObserver() {\n        var _this8 = this;\n\n        if (!hasIntersectionObserver) return;\n        this._observer = new IntersectionObserver(this._observerHandler.bind(this), this.options.observerOptions);\n        if (this.ListenerQueue.length) {\n          this.ListenerQueue.forEach(function (listener) {\n            _this8._observer.observe(listener.el);\n          });\n        }\n      }\n\n      /**\n      * init IntersectionObserver\n      * @return\n      */\n\n    }, {\n      key: '_observerHandler',\n      value: function _observerHandler(entries, observer) {\n        var _this9 = this;\n\n        entries.forEach(function (entry) {\n          if (entry.isIntersecting) {\n            _this9.ListenerQueue.forEach(function (listener) {\n              if (listener.el === entry.target) {\n                if (listener.state.loaded) return _this9._observer.unobserve(listener.el);\n                listener.load();\n              }\n            });\n          }\n        });\n      }\n\n      /**\n      * set element attribute with image'url and state\n      * @param  {object} lazyload listener object\n      * @param  {string} state will be rendered\n      * @param  {bool} inCache  is rendered from cache\n      * @return\n      */\n\n    }, {\n      key: '_elRenderer',\n      value: function _elRenderer(listener, state, cache) {\n        if (!listener.el) return;\n        var el = listener.el,\n            bindType = listener.bindType;\n\n\n        var src = void 0;\n        switch (state) {\n          case 'loading':\n            src = listener.loading;\n            break;\n          case 'error':\n            src = listener.error;\n            break;\n          default:\n            src = listener.src;\n            break;\n        }\n\n        if (bindType) {\n          el.style[bindType] = 'url(\"' + src + '\")';\n        } else if (el.getAttribute('src') !== src) {\n          el.setAttribute('src', src);\n        }\n\n        el.setAttribute('lazy', state);\n\n        this.$emit(state, listener, cache);\n        this.options.adapter[state] && this.options.adapter[state](listener, this.options);\n\n        if (this.options.dispatchEvent) {\n          var event = new CustomEvent(state, {\n            detail: listener\n          });\n          el.dispatchEvent(event);\n        }\n      }\n\n      /**\n      * generate loading loaded error image url\n      * @param {string} image's src\n      * @return {object} image's loading, loaded, error url\n      */\n\n    }, {\n      key: '_valueFormatter',\n      value: function _valueFormatter(value) {\n        var src = value;\n        var loading = this.options.loading;\n        var error = this.options.error;\n\n        // value is object\n        if (isObject(value)) {\n          if (!value.src && !this.options.silent) console.error('Vue Lazyload warning: miss src with ' + value);\n          src = value.src;\n          loading = value.loading || this.options.loading;\n          error = value.error || this.options.error;\n        }\n        return {\n          src: src,\n          loading: loading,\n          error: error\n        };\n      }\n    }]);\n    return Lazy;\n  }();\n};\n\nvar LazyComponent = (function (lazy) {\n  return {\n    props: {\n      tag: {\n        type: String,\n        default: 'div'\n      }\n    },\n    render: function render(h) {\n      if (this.show === false) {\n        return h(this.tag);\n      }\n      return h(this.tag, null, this.$slots.default);\n    },\n    data: function data() {\n      return {\n        el: null,\n        state: {\n          loaded: false\n        },\n        rect: {},\n        show: false\n      };\n    },\n    mounted: function mounted() {\n      this.el = this.$el;\n      lazy.addLazyBox(this);\n      lazy.lazyLoadHandler();\n    },\n    beforeDestroy: function beforeDestroy() {\n      lazy.removeComponent(this);\n    },\n\n    methods: {\n      getRect: function getRect() {\n        this.rect = this.$el.getBoundingClientRect();\n      },\n      checkInView: function checkInView() {\n        this.getRect();\n        return inBrowser && this.rect.top < window.innerHeight * lazy.options.preLoad && this.rect.bottom > 0 && this.rect.left < window.innerWidth * lazy.options.preLoad && this.rect.right > 0;\n      },\n      load: function load() {\n        this.show = true;\n        this.state.loaded = true;\n        this.$emit('show', this);\n      },\n      destroy: function destroy() {\n        return this.$destroy;\n      }\n    }\n  };\n});\n\nvar LazyContainerMananger = function () {\n  function LazyContainerMananger(_ref) {\n    var lazy = _ref.lazy;\n    classCallCheck(this, LazyContainerMananger);\n\n    this.lazy = lazy;\n    lazy.lazyContainerMananger = this;\n    this._queue = [];\n  }\n\n  createClass(LazyContainerMananger, [{\n    key: 'bind',\n    value: function bind(el, binding, vnode) {\n      var container = new LazyContainer$1({ el: el, binding: binding, vnode: vnode, lazy: this.lazy });\n      this._queue.push(container);\n    }\n  }, {\n    key: 'update',\n    value: function update(el, binding, vnode) {\n      var container = find(this._queue, function (item) {\n        return item.el === el;\n      });\n      if (!container) return;\n      container.update({ el: el, binding: binding, vnode: vnode });\n    }\n  }, {\n    key: 'unbind',\n    value: function unbind(el, binding, vnode) {\n      var container = find(this._queue, function (item) {\n        return item.el === el;\n      });\n      if (!container) return;\n      container.clear();\n      remove(this._queue, container);\n    }\n  }]);\n  return LazyContainerMananger;\n}();\n\nvar defaultOptions = {\n  selector: 'img'\n};\n\nvar LazyContainer$1 = function () {\n  function LazyContainer(_ref2) {\n    var el = _ref2.el,\n        binding = _ref2.binding,\n        vnode = _ref2.vnode,\n        lazy = _ref2.lazy;\n    classCallCheck(this, LazyContainer);\n\n    this.el = null;\n    this.vnode = vnode;\n    this.binding = binding;\n    this.options = {};\n    this.lazy = lazy;\n\n    this._queue = [];\n    this.update({ el: el, binding: binding });\n  }\n\n  createClass(LazyContainer, [{\n    key: 'update',\n    value: function update(_ref3) {\n      var _this = this;\n\n      var el = _ref3.el,\n          binding = _ref3.binding;\n\n      this.el = el;\n      this.options = assignDeep({}, defaultOptions, binding.value);\n\n      var imgs = this.getImgs();\n      imgs.forEach(function (el) {\n        _this.lazy.add(el, assignDeep({}, _this.binding, {\n          value: {\n            src: 'dataset' in el ? el.dataset.src : el.getAttribute('data-src'),\n            error: ('dataset' in el ? el.dataset.error : el.getAttribute('data-error')) || _this.options.error,\n            loading: ('dataset' in el ? el.dataset.loading : el.getAttribute('data-loading')) || _this.options.loading\n          }\n        }), _this.vnode);\n      });\n    }\n  }, {\n    key: 'getImgs',\n    value: function getImgs() {\n      return ArrayFrom(this.el.querySelectorAll(this.options.selector));\n    }\n  }, {\n    key: 'clear',\n    value: function clear() {\n      var _this2 = this;\n\n      var imgs = this.getImgs();\n      imgs.forEach(function (el) {\n        return _this2.lazy.remove(el);\n      });\n\n      this.vnode = null;\n      this.binding = null;\n      this.lazy = null;\n    }\n  }]);\n  return LazyContainer;\n}();\n\nvar LazyImage = (function (lazyManager) {\n  return {\n    props: {\n      src: [String, Object],\n      tag: {\n        type: String,\n        default: 'img'\n      }\n    },\n    render: function render(h) {\n      return h(this.tag, {\n        attrs: {\n          src: this.renderSrc\n        }\n      }, this.$slots.default);\n    },\n    data: function data() {\n      return {\n        el: null,\n        options: {\n          src: '',\n          error: '',\n          loading: '',\n          attempt: lazyManager.options.attempt\n        },\n        state: {\n          loaded: false,\n          error: false,\n          attempt: 0\n        },\n        rect: {},\n        renderSrc: ''\n      };\n    },\n\n    watch: {\n      src: function src() {\n        this.init();\n        lazyManager.addLazyBox(this);\n        lazyManager.lazyLoadHandler();\n      }\n    },\n    created: function created() {\n      this.init();\n      this.renderSrc = this.options.loading;\n    },\n    mounted: function mounted() {\n      this.el = this.$el;\n      lazyManager.addLazyBox(this);\n      lazyManager.lazyLoadHandler();\n    },\n    beforeDestroy: function beforeDestroy() {\n      lazyManager.removeComponent(this);\n    },\n\n    methods: {\n      init: function init() {\n        var _lazyManager$_valueFo = lazyManager._valueFormatter(this.src),\n            src = _lazyManager$_valueFo.src,\n            loading = _lazyManager$_valueFo.loading,\n            error = _lazyManager$_valueFo.error;\n\n        this.state.loaded = false;\n        this.options.src = src;\n        this.options.error = error;\n        this.options.loading = loading;\n        this.renderSrc = this.options.loading;\n      },\n      getRect: function getRect() {\n        this.rect = this.$el.getBoundingClientRect();\n      },\n      checkInView: function checkInView() {\n        this.getRect();\n        return inBrowser && this.rect.top < window.innerHeight * lazyManager.options.preLoad && this.rect.bottom > 0 && this.rect.left < window.innerWidth * lazyManager.options.preLoad && this.rect.right > 0;\n      },\n      load: function load() {\n        var _this = this;\n\n        var onFinish = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : noop;\n\n        if (this.state.attempt > this.options.attempt - 1 && this.state.error) {\n          if (!lazyManager.options.silent) console.log('VueLazyload log: ' + this.options.src + ' tried too more than ' + this.options.attempt + ' times');\n          onFinish();\n          return;\n        }\n        var src = this.options.src;\n        loadImageAsync({ src: src }, function (_ref) {\n          var src = _ref.src;\n\n          _this.renderSrc = src;\n          _this.state.loaded = true;\n        }, function (e) {\n          _this.state.attempt++;\n          _this.renderSrc = _this.options.error;\n          _this.state.error = true;\n        });\n      }\n    }\n  };\n});\n\nvar index = {\n  /*\n  * install function\n  * @param  {Vue} Vue\n  * @param  {object} options  lazyload options\n  */\n  install: function install(Vue) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var LazyClass = Lazy(Vue);\n    var lazy = new LazyClass(options);\n    var lazyContainer = new LazyContainerMananger({ lazy: lazy });\n\n    var isVue2 = Vue.version.split('.')[0] === '2';\n\n    Vue.prototype.$Lazyload = lazy;\n\n    if (options.lazyComponent) {\n      Vue.component('lazy-component', LazyComponent(lazy));\n    }\n\n    if (options.lazyImage) {\n      Vue.component('lazy-image', LazyImage(lazy));\n    }\n\n    if (isVue2) {\n      Vue.directive('lazy', {\n        bind: lazy.add.bind(lazy),\n        update: lazy.update.bind(lazy),\n        componentUpdated: lazy.lazyLoadHandler.bind(lazy),\n        unbind: lazy.remove.bind(lazy)\n      });\n      Vue.directive('lazy-container', {\n        bind: lazyContainer.bind.bind(lazyContainer),\n        componentUpdated: lazyContainer.update.bind(lazyContainer),\n        unbind: lazyContainer.unbind.bind(lazyContainer)\n      });\n    } else {\n      Vue.directive('lazy', {\n        bind: lazy.lazyLoadHandler.bind(lazy),\n        update: function update(newValue, oldValue) {\n          assignDeep(this.vm.$refs, this.vm.$els);\n          lazy.add(this.el, {\n            modifiers: this.modifiers || {},\n            arg: this.arg,\n            value: newValue,\n            oldValue: oldValue\n          }, {\n            context: this.vm\n          });\n        },\n        unbind: function unbind() {\n          lazy.remove(this.el);\n        }\n      });\n\n      Vue.directive('lazy-container', {\n        update: function update(newValue, oldValue) {\n          lazyContainer.update(this.el, {\n            modifiers: this.modifiers || {},\n            arg: this.arg,\n            value: newValue,\n            oldValue: oldValue\n          }, {\n            context: this.vm\n          });\n        },\n        unbind: function unbind() {\n          lazyContainer.unbind(this.el);\n        }\n      });\n    }\n  }\n};\n\nexport default index;\n"]},"metadata":{},"sourceType":"module"}