{"ast":null,"code":"// 这份文件就是用来做拦截的\nimport axios from 'axios'; //引入进度条\n\nimport nprogress from \"nprogress\";\nimport 'nprogress/nprogress.css'; // 创建一个单例（实例）\n\nconst requests = axios.create({\n  baseURL: '/mock',\n  timeout: 4000\n}); // 拦截器 - 请求拦截\n\nrequests.interceptors.request.use(config => {\n  // 部分接口需要拿到token\n  let token = localStorage.getItem('token');\n\n  if (token) {\n    config.headers = {\n      'aa-token': token\n    };\n  } //进度条开始动\n\n\n  nprogress.start();\n  return config;\n}, err => {\n  return Promise.reject(err);\n}); // 拦截器 - 响应拦截\n\nrequests.interceptors.response.use(res => {\n  //进度条结束\n  nprogress.done();\n  return res;\n}, err => {\n  return Promise.reject(err);\n}); // 整体导出\n\nexport default requests;","map":null,"metadata":{},"sourceType":"module"}